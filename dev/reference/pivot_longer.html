<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Pivot data from wide to long — pivot_longer • tidyr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">

<!--optional theme-->
<link href="../.css" rel="stylesheet">




<meta property="og:title" content="Pivot data from wide to long — pivot_longer" />
<meta property="og:description" content="pivot_longer() &quot;lengthens&quot; data, increasing the number of rows and
decreasing the number of columns. The inverse transformation is
pivot_wider()
Learn more in vignette(&quot;pivot&quot;)." />
<meta property="og:image" content="https://tidyr.tidyverse.org/logo.png" />
<meta name="twitter:card" content="summary" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">tidyr</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of the <a href="https://tidyverse.org">tidyverse</a></span>
          <span class="version version-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.1.3.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/tidy-data.html">Tidy data</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pivot.html">Pivoting</a>
    </li>
    <li>
      <a href="../articles/rectangle.html">Rectangling</a>
    </li>
    <li>
      <a href="../articles/nest.html">Nested data</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../articles/index.html">More...</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Releases</li>
    <li>
      <a href="https://www.tidyverse.org/blog/2020/05/tidyr-1.1.0/">Version 1.1.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2019/09/tidyr-1-0-0/">Version 1.0.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2018/02/tidyr-0-8-0/">Version 0.8.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2017/08/tidyr-0.7.0/">Version 0.7.0</a>
    </li>
    <li>
      <a href="https://blog.rstudio.com/2016/08/15/tidyr-0-6-0/">Version 0.6.0</a>
    </li>
    <li>
      <a href="https://blog.rstudio.com/2016/06/13/tidyr-0-5-0/">Version 0.5.0</a>
    </li>
    <li>
      <a href="https://blog.rstudio.com/2016/02/02/tidyr-0-4-0/">Version 0.5.0</a>
    </li>
    <li>
      <a href="https://blog.rstudio.com/2015/09/13/tidyr-0-3-0/">Version 0.4.0</a>
    </li>
    <li>
      <a href="https://blog.rstudio.com/2014/12/08/tidyr-0-2-0/">Version 0.2.0</a>
    </li>
    <li>
      <a href="https://blog.rstudio.com/2014/07/22/introducing-tidyr/">Version 0.1.0</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul>
</li>
        <li>
  <a href="https://github.com/tidyverse/tidyr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Pivot data from wide to long</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidyverse/tidyr/blob/master/R/pivot-long.R'><code>R/pivot-long.R</code></a></small>
    <div class="hidden name"><code>pivot_longer.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>pivot_longer()</code> "lengthens" data, increasing the number of rows and
decreasing the number of columns. The inverse transformation is
<code><a href='pivot_wider.html'>pivot_wider()</a></code></p>
<p>Learn more in <code><a href='../articles/pivot.html'>vignette("pivot")</a></code>.</p>
    </div>

    <pre class="usage"><span class='fu'>pivot_longer</span><span class='op'>(</span>
  <span class='va'>data</span>,
  <span class='va'>cols</span>,
  names_to <span class='op'>=</span> <span class='st'>"name"</span>,
  names_prefix <span class='op'>=</span> <span class='cn'>NULL</span>,
  names_sep <span class='op'>=</span> <span class='cn'>NULL</span>,
  names_pattern <span class='op'>=</span> <span class='cn'>NULL</span>,
  names_ptypes <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  names_transform <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  names_repair <span class='op'>=</span> <span class='st'>"check_unique"</span>,
  values_to <span class='op'>=</span> <span class='st'>"value"</span>,
  values_drop_na <span class='op'>=</span> <span class='cn'>FALSE</span>,
  values_ptypes <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  values_transform <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data frame to pivot.</p></td>
    </tr>
    <tr>
      <th>cols</th>
      <td><p>&lt;<code><a href='tidyr_tidy_select.html'>tidy-select</a></code>&gt; Columns to pivot into
longer format.</p></td>
    </tr>
    <tr>
      <th>names_to</th>
      <td><p>A string specifying the name of the column to create
from the data stored in the column names of <code>data</code>.</p>
<p>Can be a character vector, creating multiple columns, if <code>names_sep</code>
or <code>names_pattern</code> is provided. In this case, there are two special
values you can take advantage of:</p><ul>
<li><p><code>NA</code> will discard that component of the name.</p></li>
<li><p><code>.value</code> indicates that component of the name defines the name of the
column containing the cell values, overriding <code>values_to</code>.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>names_prefix</th>
      <td><p>A regular expression used to remove matching text
from the start of each variable name.</p></td>
    </tr>
    <tr>
      <th>names_sep, names_pattern</th>
      <td><p>If <code>names_to</code> contains multiple values,
these arguments control how the column name is broken up.</p>
<p><code>names_sep</code> takes the same specification as <code><a href='separate.html'>separate()</a></code>, and can either
be a numeric vector (specifying positions to break on), or a single string
(specifying a regular expression to split on).</p>
<p><code>names_pattern</code> takes the same specification as <code><a href='extract.html'>extract()</a></code>, a regular
expression containing matching groups (<code>()</code>).</p>
<p>If these arguments do not give you enough control, use
<code><a href='pivot_longer_spec.html'>pivot_longer_spec()</a></code> to create a spec object and process manually as
needed.</p></td>
    </tr>
    <tr>
      <th>names_ptypes, values_ptypes</th>
      <td><p>A list of column name-prototype pairs.
A prototype (or ptype for short) is a zero-length vector (like <code><a href='https://rdrr.io/r/base/integer.html'>integer()</a></code>
or <code><a href='https://rdrr.io/r/base/numeric.html'>numeric()</a></code>) that defines the type, class, and attributes of a vector.
Use these arguments if you want to confirm that the created columns are
the types that you expect. Note that if you want to change (instead of confirm)
the types of specific columns, you should use <code>names_transform</code> or
<code>values_transform</code> instead.</p></td>
    </tr>
    <tr>
      <th>names_transform, values_transform</th>
      <td><p>A list of column name-function pairs.
Use these arguments if you need to change the types of specific columns.
For example, <code>names_transform = list(week = as.integer)</code> would convert
a character variable called <code>week</code> to an integer.</p>
<p>If not specified, the type of the columns generated from <code>names_to</code> will
be character, and the type of the variables generated from <code>values_to</code>
will be the common type of the input columns used to generate them.</p></td>
    </tr>
    <tr>
      <th>names_repair</th>
      <td><p>What happens if the output has invalid column names?
The default, <code>"check_unique"</code> is to error if the columns are duplicated.
Use <code>"minimal"</code> to allow duplicates in the output, or <code>"unique"</code> to
de-duplicated by adding numeric suffixes. See <code><a href='https://vctrs.r-lib.org/reference/vec_as_names.html'>vctrs::vec_as_names()</a></code>
for more options.</p></td>
    </tr>
    <tr>
      <th>values_to</th>
      <td><p>A string specifying the name of the column to create
from the data stored in cell values. If <code>names_to</code> is a character
containing the special <code>.value</code> sentinel, this value will be ignored,
and the name of the value column will be derived from part of the
existing column names.</p></td>
    </tr>
    <tr>
      <th>values_drop_na</th>
      <td><p>If <code>TRUE</code>, will drop rows that contain only <code>NA</code>s
in the <code>value_to</code> column. This effectively converts explicit missing values
to implicit missing values, and should generally be used only when missing
values in <code>data</code> were created by its structure.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed on to methods.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>pivot_longer()</code> is an updated approach to <code><a href='gather.html'>gather()</a></code>, designed to be both
simpler to use and to handle more use cases. We recommend you use
<code>pivot_longer()</code> for new code; <code><a href='gather.html'>gather()</a></code> isn't going away but is no longer
under active development.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># See vignette("pivot") for examples and explanation</span>

<span class='co'># Simplest case where column names are character data</span>
<span class='va'>relig_income</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 18 x 11</span>
#&gt;    religion `&lt;$10k` `$10-20k` `$20-30k` `$30-40k` `$40-50k` `$50-75k` `$75-100k`
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>      <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>      <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> Agnostic      27        34        60        81        76       137        122
#&gt; <span style='color: #BCBCBC;'> 2</span> Atheist       12        27        37        52        35        70         73
#&gt; <span style='color: #BCBCBC;'> 3</span> Buddhist      27        21        30        34        33        58         62
#&gt; <span style='color: #BCBCBC;'> 4</span> Catholic     418       617       732       670       638      <span style='text-decoration: underline;'>1</span>116        949
#&gt; <span style='color: #BCBCBC;'> 5</span> Don’t k…      15        14        15        11        10        35         21
#&gt; <span style='color: #BCBCBC;'> 6</span> Evangel…     575       869      <span style='text-decoration: underline;'>1</span>064       982       881      <span style='text-decoration: underline;'>1</span>486        949
#&gt; <span style='color: #BCBCBC;'> 7</span> Hindu          1         9         7         9        11        34         47
#&gt; <span style='color: #BCBCBC;'> 8</span> Histori…     228       244       236       238       197       223        131
#&gt; <span style='color: #BCBCBC;'> 9</span> Jehovah…      20        27        24        24        21        30         15
#&gt; <span style='color: #BCBCBC;'>10</span> Jewish        19        19        25        25        30        95         69
#&gt; <span style='color: #BCBCBC;'>11</span> Mainlin…     289       495       619       655       651      <span style='text-decoration: underline;'>1</span>107        939
#&gt; <span style='color: #BCBCBC;'>12</span> Mormon        29        40        48        51        56       112         85
#&gt; <span style='color: #BCBCBC;'>13</span> Muslim         6         7         9        10         9        23         16
#&gt; <span style='color: #BCBCBC;'>14</span> Orthodox      13        17        23        32        32        47         38
#&gt; <span style='color: #BCBCBC;'>15</span> Other C…       9         7        11        13        13        14         18
#&gt; <span style='color: #BCBCBC;'>16</span> Other F…      20        33        40        46        49        63         46
#&gt; <span style='color: #BCBCBC;'>17</span> Other W…       5         2         3         4         2         7          3
#&gt; <span style='color: #BCBCBC;'>18</span> Unaffil…     217       299       374       365       341       528        407
#&gt; <span style='color: #949494;'># … with 3 more variables: $100-150k &lt;dbl&gt;, &gt;150k &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   Don't know/refused &lt;dbl&gt;</span></div><div class='input'><span class='va'>relig_income</span> <span class='op'>%&gt;%</span>
  <span class='fu'>pivot_longer</span><span class='op'>(</span><span class='op'>!</span><span class='va'>religion</span>, names_to <span class='op'>=</span> <span class='st'>"income"</span>, values_to <span class='op'>=</span> <span class='st'>"count"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 180 x 3</span>
#&gt;    religion income             count
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>              <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> Agnostic &lt;$10k                 27
#&gt; <span style='color: #BCBCBC;'> 2</span> Agnostic $10-20k               34
#&gt; <span style='color: #BCBCBC;'> 3</span> Agnostic $20-30k               60
#&gt; <span style='color: #BCBCBC;'> 4</span> Agnostic $30-40k               81
#&gt; <span style='color: #BCBCBC;'> 5</span> Agnostic $40-50k               76
#&gt; <span style='color: #BCBCBC;'> 6</span> Agnostic $50-75k              137
#&gt; <span style='color: #BCBCBC;'> 7</span> Agnostic $75-100k             122
#&gt; <span style='color: #BCBCBC;'> 8</span> Agnostic $100-150k            109
#&gt; <span style='color: #BCBCBC;'> 9</span> Agnostic &gt;150k                 84
#&gt; <span style='color: #BCBCBC;'>10</span> Agnostic Don't know/refused    96
#&gt; <span style='color: #949494;'># … with 170 more rows</span></div><div class='input'>
<span class='co'># Slightly more complex case where columns have common prefix,</span>
<span class='co'># and missing missings are structural so should be dropped.</span>
<span class='va'>billboard</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 317 x 79</span>
#&gt;    artist   track   date.entered   wk1   wk2   wk3   wk4   wk5   wk6   wk7   wk8
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;date&gt;</span>       <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> 2 Pac    Baby D… 2000-02-26      87    82    72    77    87    94    99    <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 2</span> 2Ge+her  The Ha… 2000-09-02      91    87    92    <span style='color: #BB0000;'>NA</span>    <span style='color: #BB0000;'>NA</span>    <span style='color: #BB0000;'>NA</span>    <span style='color: #BB0000;'>NA</span>    <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 3</span> 3 Doors… Krypto… 2000-04-08      81    70    68    67    66    57    54    53
#&gt; <span style='color: #BCBCBC;'> 4</span> 3 Doors… Loser   2000-10-21      76    76    72    69    67    65    55    59
#&gt; <span style='color: #BCBCBC;'> 5</span> 504 Boyz Wobble… 2000-04-15      57    34    25    17    17    31    36    49
#&gt; <span style='color: #BCBCBC;'> 6</span> 98^0     Give M… 2000-08-19      51    39    34    26    26    19     2     2
#&gt; <span style='color: #BCBCBC;'> 7</span> A*Teens  Dancin… 2000-07-08      97    97    96    95   100    <span style='color: #BB0000;'>NA</span>    <span style='color: #BB0000;'>NA</span>    <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 8</span> Aaliyah  I Don'… 2000-01-29      84    62    51    41    38    35    35    38
#&gt; <span style='color: #BCBCBC;'> 9</span> Aaliyah  Try Ag… 2000-03-18      59    53    38    28    21    18    16    14
#&gt; <span style='color: #BCBCBC;'>10</span> Adams, … Open M… 2000-08-26      76    76    74    69    68    67    61    58
#&gt; <span style='color: #949494;'># … with 307 more rows, and 68 more variables: wk9 &lt;dbl&gt;, wk10 &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   wk11 &lt;dbl&gt;, wk12 &lt;dbl&gt;, wk13 &lt;dbl&gt;, wk14 &lt;dbl&gt;, wk15 &lt;dbl&gt;, wk16 &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   wk17 &lt;dbl&gt;, wk18 &lt;dbl&gt;, wk19 &lt;dbl&gt;, wk20 &lt;dbl&gt;, wk21 &lt;dbl&gt;, wk22 &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   wk23 &lt;dbl&gt;, wk24 &lt;dbl&gt;, wk25 &lt;dbl&gt;, wk26 &lt;dbl&gt;, wk27 &lt;dbl&gt;, wk28 &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   wk29 &lt;dbl&gt;, wk30 &lt;dbl&gt;, wk31 &lt;dbl&gt;, wk32 &lt;dbl&gt;, wk33 &lt;dbl&gt;, wk34 &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   wk35 &lt;dbl&gt;, wk36 &lt;dbl&gt;, wk37 &lt;dbl&gt;, wk38 &lt;dbl&gt;, wk39 &lt;dbl&gt;, wk40 &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   wk41 &lt;dbl&gt;, wk42 &lt;dbl&gt;, wk43 &lt;dbl&gt;, wk44 &lt;dbl&gt;, wk45 &lt;dbl&gt;, wk46 &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   wk47 &lt;dbl&gt;, wk48 &lt;dbl&gt;, wk49 &lt;dbl&gt;, wk50 &lt;dbl&gt;, wk51 &lt;dbl&gt;, wk52 &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   wk53 &lt;dbl&gt;, wk54 &lt;dbl&gt;, wk55 &lt;dbl&gt;, wk56 &lt;dbl&gt;, wk57 &lt;dbl&gt;, wk58 &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   wk59 &lt;dbl&gt;, wk60 &lt;dbl&gt;, wk61 &lt;dbl&gt;, wk62 &lt;dbl&gt;, wk63 &lt;dbl&gt;, wk64 &lt;dbl&gt;,</span>
#&gt; <span style='color: #949494;'>#   wk65 &lt;dbl&gt;, wk66 &lt;lgl&gt;, wk67 &lt;lgl&gt;, wk68 &lt;lgl&gt;, wk69 &lt;lgl&gt;, wk70 &lt;lgl&gt;,</span>
#&gt; <span style='color: #949494;'>#   wk71 &lt;lgl&gt;, wk72 &lt;lgl&gt;, wk73 &lt;lgl&gt;, wk74 &lt;lgl&gt;, wk75 &lt;lgl&gt;, wk76 &lt;lgl&gt;</span></div><div class='input'><span class='va'>billboard</span> <span class='op'>%&gt;%</span>
 <span class='fu'>pivot_longer</span><span class='op'>(</span>
   cols <span class='op'>=</span> <span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>starts_with</a></span><span class='op'>(</span><span class='st'>"wk"</span><span class='op'>)</span>,
   names_to <span class='op'>=</span> <span class='st'>"week"</span>,
   names_prefix <span class='op'>=</span> <span class='st'>"wk"</span>,
   values_to <span class='op'>=</span> <span class='st'>"rank"</span>,
   values_drop_na <span class='op'>=</span> <span class='cn'>TRUE</span>
 <span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 5,307 x 5</span>
#&gt;    artist  track                   date.entered week   rank
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>                   <span style='color: #949494; font-style: italic;'>&lt;date&gt;</span>       <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> 2 Pac   Baby Don't Cry (Keep... 2000-02-26   1        87
#&gt; <span style='color: #BCBCBC;'> 2</span> 2 Pac   Baby Don't Cry (Keep... 2000-02-26   2        82
#&gt; <span style='color: #BCBCBC;'> 3</span> 2 Pac   Baby Don't Cry (Keep... 2000-02-26   3        72
#&gt; <span style='color: #BCBCBC;'> 4</span> 2 Pac   Baby Don't Cry (Keep... 2000-02-26   4        77
#&gt; <span style='color: #BCBCBC;'> 5</span> 2 Pac   Baby Don't Cry (Keep... 2000-02-26   5        87
#&gt; <span style='color: #BCBCBC;'> 6</span> 2 Pac   Baby Don't Cry (Keep... 2000-02-26   6        94
#&gt; <span style='color: #BCBCBC;'> 7</span> 2 Pac   Baby Don't Cry (Keep... 2000-02-26   7        99
#&gt; <span style='color: #BCBCBC;'> 8</span> 2Ge+her The Hardest Part Of ... 2000-09-02   1        91
#&gt; <span style='color: #BCBCBC;'> 9</span> 2Ge+her The Hardest Part Of ... 2000-09-02   2        87
#&gt; <span style='color: #BCBCBC;'>10</span> 2Ge+her The Hardest Part Of ... 2000-09-02   3        92
#&gt; <span style='color: #949494;'># … with 5,297 more rows</span></div><div class='input'>
<span class='co'># Multiple variables stored in column names</span>
<span class='va'>who</span> <span class='op'>%&gt;%</span> <span class='fu'>pivot_longer</span><span class='op'>(</span>
  cols <span class='op'>=</span> <span class='va'>new_sp_m014</span><span class='op'>:</span><span class='va'>newrel_f65</span>,
  names_to <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"diagnosis"</span>, <span class='st'>"gender"</span>, <span class='st'>"age"</span><span class='op'>)</span>,
  names_pattern <span class='op'>=</span> <span class='st'>"new_?(.*)_(.)(.*)"</span>,
  values_to <span class='op'>=</span> <span class='st'>"count"</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 405,440 x 8</span>
#&gt;    country     iso2  iso3   year diagnosis gender age   count
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>       <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>  <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> Afghanistan AF    AFG    <span style='text-decoration: underline;'>1</span>980 sp        m      014      <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 2</span> Afghanistan AF    AFG    <span style='text-decoration: underline;'>1</span>980 sp        m      1524     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 3</span> Afghanistan AF    AFG    <span style='text-decoration: underline;'>1</span>980 sp        m      2534     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 4</span> Afghanistan AF    AFG    <span style='text-decoration: underline;'>1</span>980 sp        m      3544     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 5</span> Afghanistan AF    AFG    <span style='text-decoration: underline;'>1</span>980 sp        m      4554     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 6</span> Afghanistan AF    AFG    <span style='text-decoration: underline;'>1</span>980 sp        m      5564     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 7</span> Afghanistan AF    AFG    <span style='text-decoration: underline;'>1</span>980 sp        m      65       <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 8</span> Afghanistan AF    AFG    <span style='text-decoration: underline;'>1</span>980 sp        f      014      <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'> 9</span> Afghanistan AF    AFG    <span style='text-decoration: underline;'>1</span>980 sp        f      1524     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #BCBCBC;'>10</span> Afghanistan AF    AFG    <span style='text-decoration: underline;'>1</span>980 sp        f      2534     <span style='color: #BB0000;'>NA</span>
#&gt; <span style='color: #949494;'># … with 405,430 more rows</span></div><div class='input'>
<span class='co'># Multiple observations per row</span>
<span class='va'>anscombe</span>
</div><div class='output co'>#&gt;    x1 x2 x3 x4    y1   y2    y3    y4
#&gt; 1  10 10 10  8  8.04 9.14  7.46  6.58
#&gt; 2   8  8  8  8  6.95 8.14  6.77  5.76
#&gt; 3  13 13 13  8  7.58 8.74 12.74  7.71
#&gt; 4   9  9  9  8  8.81 8.77  7.11  8.84
#&gt; 5  11 11 11  8  8.33 9.26  7.81  8.47
#&gt; 6  14 14 14  8  9.96 8.10  8.84  7.04
#&gt; 7   6  6  6  8  7.24 6.13  6.08  5.25
#&gt; 8   4  4  4 19  4.26 3.10  5.39 12.50
#&gt; 9  12 12 12  8 10.84 9.13  8.15  5.56
#&gt; 10  7  7  7  8  4.82 7.26  6.42  7.91
#&gt; 11  5  5  5  8  5.68 4.74  5.73  6.89</div><div class='input'><span class='va'>anscombe</span> <span class='op'>%&gt;%</span>
 <span class='fu'>pivot_longer</span><span class='op'>(</span><span class='fu'><a href='https://tidyselect.r-lib.org/reference/everything.html'>everything</a></span><span class='op'>(</span><span class='op'>)</span>,
   names_to <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>".value"</span>, <span class='st'>"set"</span><span class='op'>)</span>,
   names_pattern <span class='op'>=</span> <span class='st'>"(.)(.)"</span>
 <span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 44 x 3</span>
#&gt;    set       x     y
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> 1        10  8.04
#&gt; <span style='color: #BCBCBC;'> 2</span> 2        10  9.14
#&gt; <span style='color: #BCBCBC;'> 3</span> 3        10  7.46
#&gt; <span style='color: #BCBCBC;'> 4</span> 4         8  6.58
#&gt; <span style='color: #BCBCBC;'> 5</span> 1         8  6.95
#&gt; <span style='color: #BCBCBC;'> 6</span> 2         8  8.14
#&gt; <span style='color: #BCBCBC;'> 7</span> 3         8  6.77
#&gt; <span style='color: #BCBCBC;'> 8</span> 4         8  5.76
#&gt; <span style='color: #BCBCBC;'> 9</span> 1        13  7.58
#&gt; <span style='color: #BCBCBC;'>10</span> 2        13  8.74
#&gt; <span style='color: #949494;'># … with 34 more rows</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="tidyverse">
  <p>tidyr is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="https://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>
    Developed by <a href='http://hadley.nz'>Hadley Wickham</a>.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
   </div>

  


  </body>
</html>


